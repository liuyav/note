#操作符
ECMA操作符包括算术操作符（加减号）、位操作符、关系操作符和相等操作符。与其他语言的不同之处在于，他们能够适用于很多值，例如：字符串、数值、布尔值，甚至对象。不过应用在对象上通常会调用对象的 valueOf() 或 toString() 方法，以便取得操作值

## 一元操作符
含义：只能操作一个值的操作符叫做一元操作符<br>
分类：一元递增递减操作符、一元加减操作符

**一元递增递减操作符：**
1. 前置递增递减操作符，变量的值都是在语句被求值之前被改变的
```
var a1 = 2;
var c = --a1 + 2;         // 求值之前被改变
console.log(c);           // 2
```
2. 后置递增递减操作符，变量的值都是在语句被求值之后改变的
```
var a2 = 2;
var d = a2-- + 2;         // 求值之后被改变
console.log(d);           // 3
```
3. 递增递减操作符用于除了整数的其他类型外，遵循先类型转换，在执行操作的规则
```
var e1 = '2';
var f1 = --e1 + 2;
var e2 = 'a';
var f2 = --e2 + 2;
var e3 = true;
var f3 = --e3 + 2;
var e4 = false;
var f4 = --e4 + 2;
var e5 = 1.3;
var f5 = --e5;
var e6 = {
    valueOf: function() {
    return 1;
    }
}
var f6 = --e6;
var e7 = {
    valueOf: function() {
    return 'a';
    }
}
var f7 = --e7;
console.log(f1);        // 数字3
console.log(f2);        // NaN
console.log(f3);        // 数字2
console.log(f4);        // 1
console.log(f5);        // .3
console.log(f6);        // 0
console.log(f7);        // NaN
```



**一元加减操作符：**
1. 一元加放在数值前面，不会产生任何影响，放在非数值前面，改操作符会像 Number() 转型函数一样执行转换
2. 一元减用于非数值前面，和一元加执行相同操作，最后再将得到的数值转为负数

## 位操作符
ECMA中所有数值都是 IEEE-754 64位格式存储，但位操作不直接操作64位的值，而是将64位的值转为32位整数在执行操作，最后再将结果转换回64位。对于开发人员来说，这个过程就像只存在32位整数一样<br>

对于有符号的整数，32位中前31位表示整数，第32位表示符号位：0表示整数，1表示负数。第32位叫做符号位，决定了其他位数数值的格式<br>

正数以纯二进制格式存储，负数以二进制补码存储

计算二进制补码过程：
1. 求这个数值的二进制码<br>
  - 0000 0000 0000 0000 0000 0000 0001 0010
2. 求二进制反码（即0，1互换）<br>
  - 1111 1111 1111 1111 1111 1111 1110 1101
3. 得到的二进制反码加1<br>
```
   1111 1111 1111 1111 1111 1111 1110 1101
                                         1
   ---------------------------------------
   1111 1111 1111 1111 1111 1111 1110 1110
```
4. ecmascript 会尽力隐藏这些所有信息，在以二进制字符串形式输出一个负数时，只会看到在前面加了一个符号
```
var g1 = 18;
var g2 = -18;
console.log( g1.toString(2) );    // 10010
console.log( g2.toString(2) );    // -10010
```

**ecmascript 对数字应用位操作符，会在后台发生如下的转换过程**
- 将64位数值转化为32位
- 执行位操作
- 在转化为64位
- 副效应：NaN 和 Infinity 在应用位操作时，会被当为0处理
- 对非数字应用位操作符时，先转换成数字，在执行位操作

**按位非（NOT）**
1. 按位非操作符由一个（～）表示，执行的结果就是返回数值的反码

```
var h1 = 18;      // 0000 0000 0000 0000 0000 0000 0001 0010
var i1 = ~h1;     // 1111 1111 1111 1111 1111 1111 1110 1101 // 18的反码，这个数为负数
//                // 1111 1111 1111 1111 1111 1111 1110 1100 // 反码减1
//                // 0000 0000 0000 0000 0000 0000 0001 0011 // 求反码，得到这个数正数的二进制码
console.log(i1);  //                                     -19
```
2. 执行按位非的本质，操作数的负值减1

```
console.log(~18)
console.log(~-20)
```

**按位与（AND）**
- 两个数值对应二进制位数都是1才返回1

```
var i1 = 2;
var i2 = 4;
console.log(i1.toString(2));  //  2  = 0000 0000 0000 0000 0000 0000 0000 0010
console.log(i2.toString(2));  //  4  = 0000 0000 0000 0000 0000 0000 0000 0100
console.log(i1 & i2);         // AND = 0000 0000 0000 0000 0000 0000 0000 0000
```

**按位或（OR）**
- 两个数值对应二进制位数有一个是1返回1

```
var j1 = 2;
var j2 = 4;
console.log(j1.toString(2));  //  2  = 0000 0000 0000 0000 0000 0000 0000 0010
console.log(j2.toString(2));  //  4  = 0000 0000 0000 0000 0000 0000 0000 0100
console.log(j1 | j2);         //  OR = 0000 0000 0000 0000 0000 0000 0000 0110
```

**按位异或（XOR）**
- 两个数值对应二进制位数只有一个是1返回1

```
var k1 = 2;
var k2 = 4;
console.log(k1.toString(2));  //  2  = 0000 0000 0000 0000 0000 0000 0000 0010
console.log(k2.toString(2));  //  4  = 0000 0000 0000 0000 0000 0000 0000 0100
console.log(k1 ^ k2);         // XOR = 0000 0000 0000 0000 0000 0000 0000 0110
```

**左移（<<）**
- 左移不会影响符号位

```
var l1 = 2;
var l2 = l1 << 5;
console.log(l1.toString(2));  //    2     = 0000 0000 0000 0000 0000 0000 0000 0010
console.log(l2.toString(2));  //  2 << 5  = 0000 0000 0000 0000 0000 0000 0100 0000
console.log(l2);              //   l2                                            64
```

**有符号的右移（>>）**
- 保留符号位（移动31位）

```
var m1 = 64;
var m2 = m1 >> 5;
console.log(m1.toString(2));  //    64     = 0000 0000 0000 0000 0000 0000 0100 0000
console.log(m2.toString(2));  //  64 >> 5  = 0000 0000 0000 0000 0000 0000 0000 0010
console.log(m2);              //    m2                                             2
```

**无符号的右移（>>>）**
- 不保留符号位（移动32位）
- 对负值影响较大

```
var n1 = -64;
var n2 = n1 >>> 5;
console.log(n1.toString(2));  //     64      = 0000 0000 0000 0000 0000 0000 0100 0000
//                            //               1111 1111 1111 1111 1111 1111 1011 1111
//                            //               1111 1111 1111 1111 1111 1111 1100 0000
console.log(n2.toString(2));  //  -64 >>> 5  = 0000 0111 1111 1111 1111 1111 1111 1110
console.log(n2);              //     n2                                      134217726
```
